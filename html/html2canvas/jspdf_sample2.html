<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>自主トレの処方箋</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/index-pre.css">
</head>

<!-- 生成した物をわかりやすくするために色をつけてます。 -->
<body style="background-color:#EDF7FF;">
    <a class="noprint" onclick="downloadImage()">画面キャプチャPDFのダウンロード</a>
    <main role="main" class="col-md-7 ml-sm-auto pt-2 px-4">
        <div class="container a">
            <div class="p-3 d-flex justify-content-center">
                <div id="pdf" class="preview m-0 p-4">
                    <h1 class="m-1 text-center" contenteditable="true">自主トレメニュー</h1>
                    <div id="item1">
                        <div id="item1-name" class="text-center "><u><p class="position-top-right" contenteditable="true">　回　セット</p></u><p class="preview-name mb-0">腹斜筋の筋力強化</p></div>
                        <div class="d-flex">    
                            <div id="item1-img" class="text-center col-7 p-0"><img src="img/8e2aa33c46096d0502b68cb056c5b5cf1f430a4e.png"></div>
                            <div id="item1-caption" class="col-5 p-0"><pre class="preview-caption mt-1 mb-0"><p>片方の手のひらを反対の膝</p><p>につけるように体を起こします。</p><p>
                            手のひらが膝についたらゆっくりと元の位置に戻します。</p></pre></div>
                            
                            <!-- <div id="item1-caption" class="col-5 p-0"><pre contenteditable="true" class="preview-caption mt-1 mb-0"><ol class="mb-0"><li>片方の手のひらを反対の膝につけるように体を起こします。
</li><li>手のひらが膝についたらゆっくりと元の位置に戻します。</li></ol></pre></div> -->
                        </div>
                    <button class="noprint preview-btn"><svg class="bi bi-x" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z" clip-rule="evenodd"></path></svg></button></div>
                    <div id="item2">
                        <div id="item2-name" class="text-center "><button class="noprint preview-btn"><svg class="bi bi-x" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z" clip-rule="evenodd"></path></svg></button><p class="position-top-right" contenteditable="true">　回　セット</p><p class="preview-name mb-0">腹斜筋の筋力強化</p></div>
                        <div class="d-flex">    
                            <div id="item2-caption" class="col-5 p-0"><pre contenteditable="true" class="preview-caption mt-1 mb-0"><ol class="mb-0"><li>片方の手のひらを反対の膝につけるように体を起こします。
</li><li>手のひらが膝についたらゆっくりと元の位置に戻します。</li></ol></pre></div>
                            <div id="item2-img" class="text-center col-7 p-0"><img src="img/8e2aa33c46096d0502b68cb056c5b5cf1f430a4e.png"></div>
                        </div>
                    </div>
                    <div id="item3">
                        <div id="item3-name" class="text-center "><u><p class="position-top-right" contenteditable="true">　回　セット</p></u><p class="preview-name mb-0">腹斜筋の筋力強化</p></div>
                        <div class="d-flex">
                            <div id="item3-img" class="text-center col-7 p-0"><img src="img/8e2aa33c46096d0502b68cb056c5b5cf1f430a4e.png"></div>
                            <div id="item3-caption" class="col-5 p-0"><pre contenteditable="true" class="preview-caption mt-1 mb-0"><ol class="mb-0"><li>片方の手のひらを反対の膝につけるように体を起こします。
</li><li>手のひらが膝についたらゆっくりと元の位置に戻します。</li></ol></pre></div>
                        </div>
                    <button class="noprint preview-btn"><svg class="bi bi-x" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M11.854 4.146a.5.5 0 010 .708l-7 7a.5.5 0 01-.708-.708l7-7a.5.5 0 01.708 0z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M4.146 4.146a.5.5 0 000 .708l7 7a.5.5 0 00.708-.708l-7-7a.5.5 0 00-.708 0z" clip-rule="evenodd"></path></svg></button></div>
                </div>
            </div>
        </div>
    </main>


<!-- ソースをDLしてプロジェクトに配置する方法等もありますが、簡単にテストしたかったので埋め込んでます -->
 <script src="https://unpkg.com/jspdf@latest/dist/jspdf.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.js"></script> 
 <!-- <script src="./js/jspdf.min.js"></script> -->
 <!-- <script src="./js/html2canvas.js"></script> -->
 <script>
 function downloadImage() {
    html2canvas(document.getElementById("pdf"), {
        onrendered: function(canvas) {
            var dataURI = canvas.toDataURL();
            var pdf = new jsPDF();
            // 横幅をぴったり合わせたかったので横幅を取得して指定してます
            var width = pdf.internal.pageSize.width;
            var height = pdf.internal.pageSize.height;
            pdf.addImage(canvas, 'JPEG', 0, 0, width, height);
            pdf.save('test.pdf')
        }
    });
    //元に戻す
    // hide_elm.removeClass('print');
    // $('.print-preview').children().remove();
 }
 </script>
</body>

</html>